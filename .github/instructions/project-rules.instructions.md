---
applyTo: '**'
---
A partir de agora, sempre que eu pedir para criar qualquer parte do meu site (páginas, componentes, lógica, APIs, hooks, autenticação etc.), você deve seguir rigorosamente estas regras: a aplicação deve usar exclusivamente React com TypeScript, Vite, React Router DOM, TailwindCSS, React Hook Form com zod e @hookform/resolvers/zod, TanStack React Query para toda requisição, TMDB API para dados de filmes, atores e séries, Supabase para autenticação e armazenamento das listas personalizadas do usuário, e componentes de interface devem ser feitos usando shadcn-ui como biblioteca principal de UI (buttons, inputs, cards, dialogs, dropdowns, forms, etc.).

Antes de implementar qualquer funcionalidade com dados reais, você deve primeiro gerar um esqueleto visual completo da aplicação — incluindo páginas, layouts, navegação, componentes e fluxos — usando dados falsos, mockados, apenas para que eu veja a estrutura geral da interface. O esqueleto deve simular cards de filmes, atores, listas, perfil, formulários e tudo mais, mas sem nenhuma dependência de chaves reais ou requisições externas. Depois disso, você deve me pedir explicitamente para fornecer as variáveis de ambiente necessárias (como a chave do TMDB e as variáveis do Supabase), para então gerar a implementação funcional real da aplicação. Ou seja: primeiro mock, depois implementação real mediante minhas chaves.

O objetivo da aplicação é criar uma plataforma completa para explorar o catálogo do TMDB, visualizar informações detalhadas de filmes e atores, realizar buscas avançadas, permitir que usuários autenticados gerenciem listas personalizadas e acessem a página de perfil.

As funcionalidades obrigatórias incluem: (1) uma listagem geral de filmes usando endpoints de populares/tendências, com paginação e busca por nome usando React Hook Form e zod, exibindo cards com capa, título, ano e nota, abrindo uma página detalhada do filme; (2) busca por ator/atriz com paginação e cards contendo foto e nome, levando para a página da pessoa; (3) página de ator/atriz com foto, nome completo, biografia, data e local de nascimento, além da filmografia com capas e títulos; (4) página detalhada do filme com capa em alta, sinopse, tagline, duração, data de lançamento, gêneros, orçamento, bilheteria, produção, elenco completo com foto/nome/personagem e recomendações.

Também deve existir uma página de perfil do usuário, acessível apenas quando autenticado, mostrando foto do supabase (se existir), nome, email, data de criação da conta e formulários para editar nome, foto e senha, sempre usando React Hook Form + zod + shadcn-ui. Além disso, deve existir a página "Minha Lista", onde o usuário pode criar múltiplas listas personalizadas (ex.: Quero assistir, Já assisti, Séries, Favoritos), renomear, excluir, adicionar e remover filmes/séries, ordenar itens e visualizar tudo em layouts bem organizados usando shadcn-ui. A página principal de listas deve mostrar cards das listas com prévias das capas, quantidade de itens e botões para gerenciamento.

As regras técnicas obrigatórias incluem: toda fetch à TMDB ou Supabase deve usar React Query (useQuery, useInfiniteQuery ou useMutation), nunca useEffect para fetch. Todo formulário deve usar React Hook Form + zod. A aplicação deve ser organizada por feature folders, como /features/movies, /features/actors, /features/auth, /features/profile, /features/lists, /features/tmdb. Endpoints e URLs de imagem da TMDB devem ser centralizados em lib/tmdb.ts. A chave da API deve vir de .env, mas só deve ser usada depois de concluído o esqueleto. Hooks personalizados devem ser criados para operações da aplicação, como useUser, useAuth, useLists, useCreateList, useAddToList, useMovie, useActor, etc.

As boas práticas obrigatórias são: código totalmente tipado (sem any), lógica extraída para hooks, componentes organizados e desacoplados, feedback visual adequado (loading, skeletons, error states), reutilização de componentes shadcn-ui, navegação clara e layout consistente.

Sempre que eu pedir algo, você deve primeiro gerar a versão mockada da feature com dados falsos usando shadcn-ui, e depois perguntar se já posso fornecer as variáveis de ambiente para gerar a implementação final usando dados reais. Em todas as respostas, entregue arquitetura clara, arquivos completos, código pronto para uso e aderência total a todas as regras deste prompt.

Sempre utilize pnpm para depencências